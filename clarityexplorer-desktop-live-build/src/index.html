<!DOCTYPE html>
<html lang="en" data-theme="dark">
  <head>
    <meta charset="UTF-8" />
    <meta
      http-equiv="Content-Security-Policy"
      content="script-src 'self' 'unsafe-inline';"
    />
    <title>Clarity Explorer</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body>
    <div id="shell">
      <aside id="sidebar">
        <div id="sidebar-top">
          <div id="brand">
            <div id="brand-icon"></div>
            <div>
              <div id="brand-title">Clarity Explorer</div>
              <div id="brand-sub">Local-First Workspace</div>
            </div>
          </div>
          <button id="add-project-btn" title="New Project">Ôºã</button>
        </div>

        <div id="new-project-bar" class="hidden">
          <input id="new-project-input" placeholder="New project name‚Ä¶" />
          <button id="new-project-create">Create</button>
          <button id="new-project-cancel">‚úï</button>
        </div>

        <ul id="project-list"></ul>

        <div id="project-meta-panel" class="hidden">
          <div id="project-meta-inner">
            <div id="project-meta-header">
              <span id="project-meta-name"></span>
              <button id="rename-project-btn" title="Rename Project">‚úé</button>
            </div>
            <div id="project-dates">
              <div id="meta-created"></div>
              <div id="meta-updated"></div>
            </div>
            <textarea
              id="project-description"
              placeholder="Project description..."
            ></textarea>
          </div>
        </div>

        <div id="delete-project-bar">
          <button id="delete-project-btn">Delete Project</button>
        </div>
      </aside>

      <main id="main">
        <div id="top-bar">
          <div id="search-group">
            <div id="search-input-wrapper">
              <input id="project-search" placeholder="Search filenames..." />
              <div
                id="content-search-toggle"
                title="Deep content search (Press Enter)"
              >
                <input type="checkbox" id="content-search-checkbox" />
                <label for="content-search-checkbox">Abc</label>
              </div>
            </div>
            <input id="global-search" placeholder="Global Tag Search..." />
          </div>
          <button id="theme-toggle-btn" title="Toggle light/dark">Theme</button>
          <button id="about-btn" title="About Clarity Explorer">About</button>
        </div>

        <div id="about-panel" class="hidden">
          <div id="about-inner">
            <h2>Clarity Explorer</h2>
            <p class="subtitle">
              Local-first project views over your real files.
            </p>
            <div class="about-section">
              <h3>How It Works</h3>
              <ul>
                <li>
                  <strong>Split View:</strong> Document on top, Notes on bottom.
                </li>
                <li>
                  <strong>Deep Search:</strong> Toggle "Abc" to search inside
                  text/docx files.
                </li>
                <li>
                  <strong>PDF Search:</strong> Uses native browser search (Cmd+F
                  integration).
                </li>
              </ul>
            </div>
            <p class="about-footer">v0.2.0 ‚Ä¢ Local-First</p>
          </div>
        </div>

        <div id="layout">
          <section id="files-panel" class="panel">
            <header class="panel-header">
              <span>Files</span>
              <div class="panel-buttons">
                <button id="add-file-btn">Ôºã Add</button>
                <button id="remove-file-btn">‚àí Remove</button>
                <button id="open-file-btn">‚Üó Open</button>
              </div>
            </header>
            <ul id="file-list"></ul>
          </section>

          <section id="preview-panel" class="panel">
            <header class="panel-header">
              <span id="preview-title"></span>
              <div class="panel-buttons">
                <button
                  id="toggle-search-btn"
                  title="Find in file"
                  class="hidden"
                >
                  üîç
                </button>
                <button id="export-file-notes-btn">Export Notes</button>
              </div>
            </header>

            <div id="split-container">
              <div id="file-view-pane">
                <div id="preview-search-bar" class="hidden">
                  <input
                    id="preview-search-input"
                    placeholder="Find in document..."
                  />
                  <span id="search-count">0/0</span>
                  <button id="search-prev-btn">‚Üë</button>
                  <button id="search-next-btn">‚Üì</button>
                  <button id="search-close-btn">‚úï</button>
                </div>
                <div id="preview-body"></div>
              </div>

              <div id="meta-view-pane">
                <div id="meta-tabs">
                  <div id="notes-header">Notes</div>
                  <div id="tags-header">Tags</div>
                </div>
                <div id="meta-content-wrapper">
                  <textarea
                    id="notes-box"
                    placeholder="Write your notes here..."
                  ></textarea>
                  <div id="tags-wrapper">
                    <div id="tags-container"></div>
                    <input id="tag-input" placeholder="Add tag‚Ä¶" />
                  </div>
                </div>
              </div>
            </div>
          </section>
        </div>
      </main>
    </div>

    <div id="rename-modal" class="hidden modal-overlay">
      <div class="modal-box">
        <h3>Rename Project</h3>
        <input id="rename-input" placeholder="New project name..." />
        <div class="modal-buttons">
          <button id="rename-cancel-btn">Cancel</button>
          <button id="rename-confirm-btn" class="primary">Rename</button>
        </div>
      </div>
    </div>

    <script src="renderer.js"></script>
  </body>
</html>
